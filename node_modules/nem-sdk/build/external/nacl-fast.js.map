{"version":3,"sources":["../../src/external/nacl-fast.js"],"names":["nacl","Uint8Array","prototype","slice","start","end","len","length","relativeStart","k","max","Math","min","relativeEnd","undefined","final","count","c","constructor","a","n","JSON","parse","stringify","Float64Array","gf","init","i","r","randombytes","Error","_0","_9","gf0","gf1","_121665","D","D2","X","Y","I","vn","x","xi","y","yi","d","crypto_verify_32","set25519","car25519","o","v","floor","sel25519","p","q","b","t","pack25519","j","m","neq25519","par25519","unpack25519","A","Z","M","t0","t1","t2","t3","t4","t5","t6","t7","t8","t9","t10","t11","t12","t13","t14","t15","t16","t17","t18","t19","t20","t21","t22","t23","t24","t25","t26","t27","t28","t29","t30","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","b10","b11","b12","b13","b14","b15","S","inv25519","pow2523","crypto_scalarmult","z","e","f","x32","subarray","x16","crypto_scalarmult_base","add","g","h","cswap","pack","tx","ty","zi","scalarmult","s","scalarbase","crypto_sign_keypair_hash","pk","sk","hashfunc","crypto_shared_key_hash","shared","unpack","crypto_sign_hash","sm","keypair","data","hasher","privHash","seededHash","result","update","secretKey","finalize","reset","reduce","publicKey","modL","isZero","L","carry","unpackneg","chk","num","den","den2","den4","den6","console","log","crypto_scalarmult_BYTES","crypto_scalarmult_SCALARBYTES","crypto_sign_BYTES","crypto_sign_PUBLICKEYBYTES","crypto_sign_SECRETKEYBYTES","crypto_sign_SEEDBYTES","crypto_hash_BYTES","crypto_sign_open","mlen","crypto_hash","lowlevel","checkArrayTypes","arguments","Object","toString","call","TypeError","cleanup","arr","randomBytes","scalarMult","base","scalarLength","groupElementLength","verify","setPRNG","fn","crypto","window","getRandomValues","msCrypto","require","module","exports"],"mappings":"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","file":"nacl-fast.js","sourcesContent":["(function(nacl) {\n'use strict';\n\n\n// polyfill for TypedArray.prototype.slice()\nUint8Array.prototype.slice = function(start, end) {\n\tvar len = this.length;\n\tvar relativeStart = start;\n\tvar k = (relativeStart < 0) ? max(len + relativeStart, 0) : Math.min(relativeStart, len);\n\tvar relativeEnd = (end === undefined) ? len : end;\n\tvar final = (relativeEnd < 0) ? max(len + relativeEnd, 0) : Math.min(relativeEnd, len);\n\tvar count = final - k;\n\tvar c = this.constructor;\n\tvar a = new c(count);\n\tvar n = 0;\n\twhile (k < final) {\n\t    a[n] = JSON.parse(JSON.stringify(this[k]));\n\t    k++;\n\t    n++;\n\t}\n\treturn a;\n}\n\n\nFloat64Array.prototype.slice = function(start, end) {\n\tvar len = this.length;\n\tvar relativeStart = start;\n\tvar k = (relativeStart < 0) ? max(len + relativeStart, 0) : Math.min(relativeStart, len);\n\tvar relativeEnd = (end === undefined) ? len : end;\n\tvar final = (relativeEnd < 0) ? max(len + relativeEnd, 0) : Math.min(relativeEnd, len);\n\tvar count = final - k;\n\tvar c = this.constructor;\n\tvar a = new c(count);\n\tvar n = 0;\n\twhile (k < final) {\n\t    a[n] = JSON.parse(JSON.stringify(this[k]));\n\t    k++;\n\t    n++;\n\t}\n\treturn a;\n}\n\n// Ported in 2014 by Dmitry Chestnykh and Devi Mandiri.\n// Public domain.\n//\n// Implementation derived from TweetNaCl version 20140427.\n// See for details: http://tweetnacl.cr.yp.to/\n\nvar gf = function(init) {\n  var i, r = new Float64Array(16);\n  if (init) for (i = 0; i < init.length; i++) r[i] = init[i];\n  return r;\n};\n\n//  Pluggable, initialized in high-level API below.\nvar randombytes = function(/* x, n */) { throw new Error('no PRNG'); };\n\nvar _0 = new Uint8Array(16);\nvar _9 = new Uint8Array(32); _9[0] = 9;\n\nvar gf0 = gf(),\n    gf1 = gf([1]),\n    _121665 = gf([0xdb41, 1]),\n    D = gf([0x78a3, 0x1359, 0x4dca, 0x75eb, 0xd8ab, 0x4141, 0x0a4d, 0x0070, 0xe898, 0x7779, 0x4079, 0x8cc7, 0xfe73, 0x2b6f, 0x6cee, 0x5203]),\n    D2 = gf([0xf159, 0x26b2, 0x9b94, 0xebd6, 0xb156, 0x8283, 0x149a, 0x00e0, 0xd130, 0xeef3, 0x80f2, 0x198e, 0xfce7, 0x56df, 0xd9dc, 0x2406]),\n    X = gf([0xd51a, 0x8f25, 0x2d60, 0xc956, 0xa7b2, 0x9525, 0xc760, 0x692c, 0xdc5c, 0xfdd6, 0xe231, 0xc0a4, 0x53fe, 0xcd6e, 0x36d3, 0x2169]),\n    Y = gf([0x6658, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666]),\n    I = gf([0xa0b0, 0x4a0e, 0x1b27, 0xc4ee, 0xe478, 0xad2f, 0x1806, 0x2f43, 0xd7a7, 0x3dfb, 0x0099, 0x2b4d, 0xdf0b, 0x4fc1, 0x2480, 0x2b83]);\n\nfunction vn(x, xi, y, yi, n) {\n  var i,d = 0;\n  for (i = 0; i < n; i++) d |= x[xi+i]^y[yi+i];\n  return (1 & ((d - 1) >>> 8)) - 1;\n}\n\nfunction crypto_verify_32(x, xi, y, yi) {\n  return vn(x,xi,y,yi,32);\n}\n\n\nfunction set25519(r, a) {\n  var i;\n  for (i = 0; i < 16; i++) r[i] = a[i]|0;\n}\n\nfunction car25519(o) {\n  var i, v, c = 1;\n  for (i = 0; i < 16; i++) {\n    v = o[i] + c + 65535;\n    c = Math.floor(v / 65536);\n    o[i] = v - c * 65536;\n  }\n  o[0] += c-1 + 37 * (c-1);\n}\n\nfunction sel25519(p, q, b) {\n  var t, c = ~(b-1);\n  for (var i = 0; i < 16; i++) {\n    t = c & (p[i] ^ q[i]);\n    p[i] ^= t;\n    q[i] ^= t;\n  }\n}\n\nfunction pack25519(o, n) {\n  var i, j, b;\n  var m = gf(), t = gf();\n  for (i = 0; i < 16; i++) t[i] = n[i];\n  car25519(t);\n  car25519(t);\n  car25519(t);\n  for (j = 0; j < 2; j++) {\n    m[0] = t[0] - 0xffed;\n    for (i = 1; i < 15; i++) {\n      m[i] = t[i] - 0xffff - ((m[i-1]>>16) & 1);\n      m[i-1] &= 0xffff;\n    }\n    m[15] = t[15] - 0x7fff - ((m[14]>>16) & 1);\n    b = (m[15]>>16) & 1;\n    m[14] &= 0xffff;\n    sel25519(t, m, 1-b);\n  }\n  for (i = 0; i < 16; i++) {\n    o[2*i] = t[i] & 0xff;\n    o[2*i+1] = t[i]>>8;\n  }\n}\n\nfunction neq25519(a, b) {\n  var c = new Uint8Array(32), d = new Uint8Array(32);\n  pack25519(c, a);\n  pack25519(d, b);\n  return crypto_verify_32(c, 0, d, 0);\n}\n\nfunction par25519(a) {\n  var d = new Uint8Array(32);\n  pack25519(d, a);\n  return d[0] & 1;\n}\n\nfunction unpack25519(o, n) {\n  var i;\n  for (i = 0; i < 16; i++) o[i] = n[2*i] + (n[2*i+1] << 8);\n  o[15] &= 0x7fff;\n}\n\nfunction A(o, a, b) {\n  for (var i = 0; i < 16; i++) o[i] = a[i] + b[i];\n}\n\nfunction Z(o, a, b) {\n  for (var i = 0; i < 16; i++) o[i] = a[i] - b[i];\n}\n\nfunction M(o, a, b) {\n  var v, c,\n     t0 = 0,  t1 = 0,  t2 = 0,  t3 = 0,  t4 = 0,  t5 = 0,  t6 = 0,  t7 = 0,\n     t8 = 0,  t9 = 0, t10 = 0, t11 = 0, t12 = 0, t13 = 0, t14 = 0, t15 = 0,\n    t16 = 0, t17 = 0, t18 = 0, t19 = 0, t20 = 0, t21 = 0, t22 = 0, t23 = 0,\n    t24 = 0, t25 = 0, t26 = 0, t27 = 0, t28 = 0, t29 = 0, t30 = 0,\n    b0 = b[0],\n    b1 = b[1],\n    b2 = b[2],\n    b3 = b[3],\n    b4 = b[4],\n    b5 = b[5],\n    b6 = b[6],\n    b7 = b[7],\n    b8 = b[8],\n    b9 = b[9],\n    b10 = b[10],\n    b11 = b[11],\n    b12 = b[12],\n    b13 = b[13],\n    b14 = b[14],\n    b15 = b[15];\n\n  v = a[0];\n  t0 += v * b0;\n  t1 += v * b1;\n  t2 += v * b2;\n  t3 += v * b3;\n  t4 += v * b4;\n  t5 += v * b5;\n  t6 += v * b6;\n  t7 += v * b7;\n  t8 += v * b8;\n  t9 += v * b9;\n  t10 += v * b10;\n  t11 += v * b11;\n  t12 += v * b12;\n  t13 += v * b13;\n  t14 += v * b14;\n  t15 += v * b15;\n  v = a[1];\n  t1 += v * b0;\n  t2 += v * b1;\n  t3 += v * b2;\n  t4 += v * b3;\n  t5 += v * b4;\n  t6 += v * b5;\n  t7 += v * b6;\n  t8 += v * b7;\n  t9 += v * b8;\n  t10 += v * b9;\n  t11 += v * b10;\n  t12 += v * b11;\n  t13 += v * b12;\n  t14 += v * b13;\n  t15 += v * b14;\n  t16 += v * b15;\n  v = a[2];\n  t2 += v * b0;\n  t3 += v * b1;\n  t4 += v * b2;\n  t5 += v * b3;\n  t6 += v * b4;\n  t7 += v * b5;\n  t8 += v * b6;\n  t9 += v * b7;\n  t10 += v * b8;\n  t11 += v * b9;\n  t12 += v * b10;\n  t13 += v * b11;\n  t14 += v * b12;\n  t15 += v * b13;\n  t16 += v * b14;\n  t17 += v * b15;\n  v = a[3];\n  t3 += v * b0;\n  t4 += v * b1;\n  t5 += v * b2;\n  t6 += v * b3;\n  t7 += v * b4;\n  t8 += v * b5;\n  t9 += v * b6;\n  t10 += v * b7;\n  t11 += v * b8;\n  t12 += v * b9;\n  t13 += v * b10;\n  t14 += v * b11;\n  t15 += v * b12;\n  t16 += v * b13;\n  t17 += v * b14;\n  t18 += v * b15;\n  v = a[4];\n  t4 += v * b0;\n  t5 += v * b1;\n  t6 += v * b2;\n  t7 += v * b3;\n  t8 += v * b4;\n  t9 += v * b5;\n  t10 += v * b6;\n  t11 += v * b7;\n  t12 += v * b8;\n  t13 += v * b9;\n  t14 += v * b10;\n  t15 += v * b11;\n  t16 += v * b12;\n  t17 += v * b13;\n  t18 += v * b14;\n  t19 += v * b15;\n  v = a[5];\n  t5 += v * b0;\n  t6 += v * b1;\n  t7 += v * b2;\n  t8 += v * b3;\n  t9 += v * b4;\n  t10 += v * b5;\n  t11 += v * b6;\n  t12 += v * b7;\n  t13 += v * b8;\n  t14 += v * b9;\n  t15 += v * b10;\n  t16 += v * b11;\n  t17 += v * b12;\n  t18 += v * b13;\n  t19 += v * b14;\n  t20 += v * b15;\n  v = a[6];\n  t6 += v * b0;\n  t7 += v * b1;\n  t8 += v * b2;\n  t9 += v * b3;\n  t10 += v * b4;\n  t11 += v * b5;\n  t12 += v * b6;\n  t13 += v * b7;\n  t14 += v * b8;\n  t15 += v * b9;\n  t16 += v * b10;\n  t17 += v * b11;\n  t18 += v * b12;\n  t19 += v * b13;\n  t20 += v * b14;\n  t21 += v * b15;\n  v = a[7];\n  t7 += v * b0;\n  t8 += v * b1;\n  t9 += v * b2;\n  t10 += v * b3;\n  t11 += v * b4;\n  t12 += v * b5;\n  t13 += v * b6;\n  t14 += v * b7;\n  t15 += v * b8;\n  t16 += v * b9;\n  t17 += v * b10;\n  t18 += v * b11;\n  t19 += v * b12;\n  t20 += v * b13;\n  t21 += v * b14;\n  t22 += v * b15;\n  v = a[8];\n  t8 += v * b0;\n  t9 += v * b1;\n  t10 += v * b2;\n  t11 += v * b3;\n  t12 += v * b4;\n  t13 += v * b5;\n  t14 += v * b6;\n  t15 += v * b7;\n  t16 += v * b8;\n  t17 += v * b9;\n  t18 += v * b10;\n  t19 += v * b11;\n  t20 += v * b12;\n  t21 += v * b13;\n  t22 += v * b14;\n  t23 += v * b15;\n  v = a[9];\n  t9 += v * b0;\n  t10 += v * b1;\n  t11 += v * b2;\n  t12 += v * b3;\n  t13 += v * b4;\n  t14 += v * b5;\n  t15 += v * b6;\n  t16 += v * b7;\n  t17 += v * b8;\n  t18 += v * b9;\n  t19 += v * b10;\n  t20 += v * b11;\n  t21 += v * b12;\n  t22 += v * b13;\n  t23 += v * b14;\n  t24 += v * b15;\n  v = a[10];\n  t10 += v * b0;\n  t11 += v * b1;\n  t12 += v * b2;\n  t13 += v * b3;\n  t14 += v * b4;\n  t15 += v * b5;\n  t16 += v * b6;\n  t17 += v * b7;\n  t18 += v * b8;\n  t19 += v * b9;\n  t20 += v * b10;\n  t21 += v * b11;\n  t22 += v * b12;\n  t23 += v * b13;\n  t24 += v * b14;\n  t25 += v * b15;\n  v = a[11];\n  t11 += v * b0;\n  t12 += v * b1;\n  t13 += v * b2;\n  t14 += v * b3;\n  t15 += v * b4;\n  t16 += v * b5;\n  t17 += v * b6;\n  t18 += v * b7;\n  t19 += v * b8;\n  t20 += v * b9;\n  t21 += v * b10;\n  t22 += v * b11;\n  t23 += v * b12;\n  t24 += v * b13;\n  t25 += v * b14;\n  t26 += v * b15;\n  v = a[12];\n  t12 += v * b0;\n  t13 += v * b1;\n  t14 += v * b2;\n  t15 += v * b3;\n  t16 += v * b4;\n  t17 += v * b5;\n  t18 += v * b6;\n  t19 += v * b7;\n  t20 += v * b8;\n  t21 += v * b9;\n  t22 += v * b10;\n  t23 += v * b11;\n  t24 += v * b12;\n  t25 += v * b13;\n  t26 += v * b14;\n  t27 += v * b15;\n  v = a[13];\n  t13 += v * b0;\n  t14 += v * b1;\n  t15 += v * b2;\n  t16 += v * b3;\n  t17 += v * b4;\n  t18 += v * b5;\n  t19 += v * b6;\n  t20 += v * b7;\n  t21 += v * b8;\n  t22 += v * b9;\n  t23 += v * b10;\n  t24 += v * b11;\n  t25 += v * b12;\n  t26 += v * b13;\n  t27 += v * b14;\n  t28 += v * b15;\n  v = a[14];\n  t14 += v * b0;\n  t15 += v * b1;\n  t16 += v * b2;\n  t17 += v * b3;\n  t18 += v * b4;\n  t19 += v * b5;\n  t20 += v * b6;\n  t21 += v * b7;\n  t22 += v * b8;\n  t23 += v * b9;\n  t24 += v * b10;\n  t25 += v * b11;\n  t26 += v * b12;\n  t27 += v * b13;\n  t28 += v * b14;\n  t29 += v * b15;\n  v = a[15];\n  t15 += v * b0;\n  t16 += v * b1;\n  t17 += v * b2;\n  t18 += v * b3;\n  t19 += v * b4;\n  t20 += v * b5;\n  t21 += v * b6;\n  t22 += v * b7;\n  t23 += v * b8;\n  t24 += v * b9;\n  t25 += v * b10;\n  t26 += v * b11;\n  t27 += v * b12;\n  t28 += v * b13;\n  t29 += v * b14;\n  t30 += v * b15;\n\n  t0  += 38 * t16;\n  t1  += 38 * t17;\n  t2  += 38 * t18;\n  t3  += 38 * t19;\n  t4  += 38 * t20;\n  t5  += 38 * t21;\n  t6  += 38 * t22;\n  t7  += 38 * t23;\n  t8  += 38 * t24;\n  t9  += 38 * t25;\n  t10 += 38 * t26;\n  t11 += 38 * t27;\n  t12 += 38 * t28;\n  t13 += 38 * t29;\n  t14 += 38 * t30;\n  // t15 left as is\n\n  // first car\n  c = 1;\n  v =  t0 + c + 65535; c = Math.floor(v / 65536);  t0 = v - c * 65536;\n  v =  t1 + c + 65535; c = Math.floor(v / 65536);  t1 = v - c * 65536;\n  v =  t2 + c + 65535; c = Math.floor(v / 65536);  t2 = v - c * 65536;\n  v =  t3 + c + 65535; c = Math.floor(v / 65536);  t3 = v - c * 65536;\n  v =  t4 + c + 65535; c = Math.floor(v / 65536);  t4 = v - c * 65536;\n  v =  t5 + c + 65535; c = Math.floor(v / 65536);  t5 = v - c * 65536;\n  v =  t6 + c + 65535; c = Math.floor(v / 65536);  t6 = v - c * 65536;\n  v =  t7 + c + 65535; c = Math.floor(v / 65536);  t7 = v - c * 65536;\n  v =  t8 + c + 65535; c = Math.floor(v / 65536);  t8 = v - c * 65536;\n  v =  t9 + c + 65535; c = Math.floor(v / 65536);  t9 = v - c * 65536;\n  v = t10 + c + 65535; c = Math.floor(v / 65536); t10 = v - c * 65536;\n  v = t11 + c + 65535; c = Math.floor(v / 65536); t11 = v - c * 65536;\n  v = t12 + c + 65535; c = Math.floor(v / 65536); t12 = v - c * 65536;\n  v = t13 + c + 65535; c = Math.floor(v / 65536); t13 = v - c * 65536;\n  v = t14 + c + 65535; c = Math.floor(v / 65536); t14 = v - c * 65536;\n  v = t15 + c + 65535; c = Math.floor(v / 65536); t15 = v - c * 65536;\n  t0 += c-1 + 37 * (c-1);\n\n  // second car\n  c = 1;\n  v =  t0 + c + 65535; c = Math.floor(v / 65536);  t0 = v - c * 65536;\n  v =  t1 + c + 65535; c = Math.floor(v / 65536);  t1 = v - c * 65536;\n  v =  t2 + c + 65535; c = Math.floor(v / 65536);  t2 = v - c * 65536;\n  v =  t3 + c + 65535; c = Math.floor(v / 65536);  t3 = v - c * 65536;\n  v =  t4 + c + 65535; c = Math.floor(v / 65536);  t4 = v - c * 65536;\n  v =  t5 + c + 65535; c = Math.floor(v / 65536);  t5 = v - c * 65536;\n  v =  t6 + c + 65535; c = Math.floor(v / 65536);  t6 = v - c * 65536;\n  v =  t7 + c + 65535; c = Math.floor(v / 65536);  t7 = v - c * 65536;\n  v =  t8 + c + 65535; c = Math.floor(v / 65536);  t8 = v - c * 65536;\n  v =  t9 + c + 65535; c = Math.floor(v / 65536);  t9 = v - c * 65536;\n  v = t10 + c + 65535; c = Math.floor(v / 65536); t10 = v - c * 65536;\n  v = t11 + c + 65535; c = Math.floor(v / 65536); t11 = v - c * 65536;\n  v = t12 + c + 65535; c = Math.floor(v / 65536); t12 = v - c * 65536;\n  v = t13 + c + 65535; c = Math.floor(v / 65536); t13 = v - c * 65536;\n  v = t14 + c + 65535; c = Math.floor(v / 65536); t14 = v - c * 65536;\n  v = t15 + c + 65535; c = Math.floor(v / 65536); t15 = v - c * 65536;\n  t0 += c-1 + 37 * (c-1);\n\n  o[ 0] = t0;\n  o[ 1] = t1;\n  o[ 2] = t2;\n  o[ 3] = t3;\n  o[ 4] = t4;\n  o[ 5] = t5;\n  o[ 6] = t6;\n  o[ 7] = t7;\n  o[ 8] = t8;\n  o[ 9] = t9;\n  o[10] = t10;\n  o[11] = t11;\n  o[12] = t12;\n  o[13] = t13;\n  o[14] = t14;\n  o[15] = t15;\n}\n\nfunction S(o, a) {\n  M(o, a, a);\n}\n\nfunction inv25519(o, i) {\n  var c = gf();\n  var a;\n  for (a = 0; a < 16; a++) c[a] = i[a];\n  for (a = 253; a >= 0; a--) {\n    S(c, c);\n    if(a !== 2 && a !== 4) M(c, c, i);\n  }\n  for (a = 0; a < 16; a++) o[a] = c[a];\n}\n\nfunction pow2523(o, i) {\n  var c = gf();\n  var a;\n  for (a = 0; a < 16; a++) c[a] = i[a];\n  for (a = 250; a >= 0; a--) {\n      S(c, c);\n      if(a !== 1) M(c, c, i);\n  }\n  for (a = 0; a < 16; a++) o[a] = c[a];\n}\n\nfunction crypto_scalarmult(q, n, p) {\n  var z = new Uint8Array(32);\n  var x = new Float64Array(80), r, i;\n  var a = gf(), b = gf(), c = gf(),\n      d = gf(), e = gf(), f = gf();\n  for (i = 0; i < 31; i++) z[i] = n[i];\n  z[31]=(n[31]&127)|64;\n  z[0]&=248;\n  unpack25519(x,p);\n  for (i = 0; i < 16; i++) {\n    b[i]=x[i];\n    d[i]=a[i]=c[i]=0;\n  }\n  a[0]=d[0]=1;\n  for (i=254; i>=0; --i) {\n    r=(z[i>>>3]>>>(i&7))&1;\n    sel25519(a,b,r);\n    sel25519(c,d,r);\n    A(e,a,c);\n    Z(a,a,c);\n    A(c,b,d);\n    Z(b,b,d);\n    S(d,e);\n    S(f,a);\n    M(a,c,a);\n    M(c,b,e);\n    A(e,a,c);\n    Z(a,a,c);\n    S(b,a);\n    Z(c,d,f);\n    M(a,c,_121665);\n    A(a,a,d);\n    M(c,c,a);\n    M(a,d,f);\n    M(d,b,x);\n    S(b,e);\n    sel25519(a,b,r);\n    sel25519(c,d,r);\n  }\n  for (i = 0; i < 16; i++) {\n    x[i+16]=a[i];\n    x[i+32]=c[i];\n    x[i+48]=b[i];\n    x[i+64]=d[i];\n  }\n  var x32 = x.subarray(32);\n  var x16 = x.subarray(16);\n  inv25519(x32,x32);\n  M(x16,x16,x32);\n  pack25519(q,x16);\n  return 0;\n}\n\nfunction crypto_scalarmult_base(q, n) {\n  return crypto_scalarmult(q, n, _9);\n}\n\nfunction add(p, q) {\n  var a = gf(), b = gf(), c = gf(),\n      d = gf(), e = gf(), f = gf(),\n      g = gf(), h = gf(), t = gf();\n\n  Z(a, p[1], p[0]);\n  Z(t, q[1], q[0]);\n  M(a, a, t);\n  A(b, p[0], p[1]);\n  A(t, q[0], q[1]);\n  M(b, b, t);\n  M(c, p[3], q[3]);\n  M(c, c, D2);\n  M(d, p[2], q[2]);\n  A(d, d, d);\n  Z(e, b, a);\n  Z(f, d, c);\n  A(g, d, c);\n  A(h, b, a);\n\n  M(p[0], e, f);\n  M(p[1], h, g);\n  M(p[2], g, f);\n  M(p[3], e, h);\n}\n\nfunction cswap(p, q, b) {\n  var i;\n  for (i = 0; i < 4; i++) {\n    sel25519(p[i], q[i], b);\n  }\n}\n\nfunction pack(r, p) {\n  var tx = gf(), ty = gf(), zi = gf();\n  inv25519(zi, p[2]);\n  M(tx, p[0], zi);\n  M(ty, p[1], zi);\n  pack25519(r, ty);\n  r[31] ^= par25519(tx) << 7;\n}\n\nfunction scalarmult(p, q, s) {\n  var b, i;\n  set25519(p[0], gf0);\n  set25519(p[1], gf1);\n  set25519(p[2], gf1);\n  set25519(p[3], gf0);\n  for (i = 255; i >= 0; --i) {\n    b = (s[(i/8)|0] >> (i&7)) & 1;\n    cswap(p, q, b);\n    add(q, p);\n    add(p, p);\n    cswap(p, q, b);\n  }\n}\n\nfunction scalarbase(p, s) {\n  var q = [gf(), gf(), gf(), gf()];\n  set25519(q[0], X);\n  set25519(q[1], Y);\n  set25519(q[2], gf1);\n  M(q[3], X, Y);\n  scalarmult(p, q, s);\n}\n\nfunction crypto_sign_keypair_hash(pk, sk, hashfunc) {\n  var d = new Uint8Array(64);\n  var p = [gf(), gf(), gf(), gf()];\n  var i;\n\n  hashfunc(d, sk, 32);\n  d[0] &= 248;\n  d[31] &= 127;\n  d[31] |= 64;\n\n  scalarbase(p, d);\n  pack(pk, p);\n\n  for (i = 0; i < 32; i++) sk[i+32] = pk[i];\n  return 0;\n}\n\nfunction crypto_shared_key_hash(shared, pk, sk, hashfunc) {\n  var d = new Uint8Array(64);\n  var p = [gf(), gf(), gf(), gf()];\n\n  hashfunc(d, sk, 32);\n  d[0] &= 248;\n  d[31] &= 127;\n  d[31] |= 64;\n\n  var q = [gf(), gf(), gf(), gf()];\n  unpack(q, pk);\n  scalarmult(p, q, d);\n  pack(shared, p);\n}\n\nfunction crypto_sign_hash(sm, keypair, data, hasher) {\n  var privHash = new Uint8Array(64);\n  var seededHash = new Uint8Array(64);\n  var result = new Uint8Array(64);\n  var p = [gf(), gf(), gf(), gf()];\n  var i;\n\n  hasher.update(keypair.secretKey);\n  hasher.finalize(privHash);\n\n  privHash[0] &= 248;\n  privHash[31] &= 127;\n  privHash[31] |= 64;\n\n  hasher.reset();\n  hasher.update(privHash.slice(32));\n  hasher.update(data);\n  hasher.finalize(seededHash);\n\n  reduce(seededHash);\n  scalarbase(p, seededHash);\n  pack(sm, p);\n  \n  hasher.reset();\n  hasher.update(sm.slice(0, 32));\n  hasher.update(keypair.publicKey)\n  hasher.update(data);\n  hasher.finalize(result);\n\n  reduce(result);\n  \n\n  // muladd - this is from original tweetnacl-js\n  var x = new Float64Array(64);\n  for (var i = 0; i < 64; i++) x[i] = 0;\n  for (var i = 0; i < 32; i++) x[i] = seededHash[i];\n  for (var i = 0; i < 32; i++) {\n    for (var j = 0; j < 32; j++) {\n      x[i+j] += result[i] * privHash[j];\n    }\n  }\n  modL(sm.subarray(32), x);\n\n  // check if zero\n  var isZero = 0;\n  for (var i = 0; i < 32; i++)\n  {\n\t  isZero |= sm[32+i] ^ 0;\n\t  result[i] = sm[32+i];\n  }\n\n  if (isZero == 0)\n\t  return false;\n\n  reduce(result);\n\n  // check if canonical\n  isZero = 0;\n  for (var i = 0; i < 32; i++)\n  {\n\t  isZero |= sm[32+i] ^ result[i];\n  }\n  return isZero == 0;\n}\n\nvar L = new Float64Array([0xed, 0xd3, 0xf5, 0x5c, 0x1a, 0x63, 0x12, 0x58, 0xd6, 0x9c, 0xf7, 0xa2, 0xde, 0xf9, 0xde, 0x14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x10]);\n\nfunction modL(r, x) {\n  var carry, i, j, k;\n  for (i = 63; i >= 32; --i) {\n    carry = 0;\n    for (j = i - 32, k = i - 12; j < k; ++j) {\n      x[j] += carry - 16 * x[i] * L[j - (i - 32)];\n      carry = (x[j] + 128) >> 8;\n      x[j] -= carry * 256;\n    }\n    x[j] += carry;\n    x[i] = 0;\n  }\n  carry = 0;\n  for (j = 0; j < 32; j++) {\n    x[j] += carry - (x[31] >> 4) * L[j];\n    carry = x[j] >> 8;\n    x[j] &= 255;\n  }\n  for (j = 0; j < 32; j++) x[j] -= carry * L[j];\n  for (i = 0; i < 32; i++) {\n    x[i+1] += x[i] >> 8;\n    r[i] = x[i] & 255;\n  }\n}\n\nfunction reduce(r) {\n  var x = new Float64Array(64), i;\n  for (i = 0; i < 64; i++) x[i] = r[i];\n  for (i = 0; i < 64; i++) r[i] = 0;\n  modL(r, x);\n}\n\nfunction unpackneg(r, p) {\n  var t = gf(), chk = gf(), num = gf(),\n      den = gf(), den2 = gf(), den4 = gf(),\n      den6 = gf();\n\n  set25519(r[2], gf1);\n  unpack25519(r[1], p);\n\n  // num = u = y^2 - 1\n  // den = v = d * y^2 + 1\n  S(num, r[1]);\n  M(den, num, D);\n  Z(num, num, r[2]);\n  A(den, r[2], den);\n\n  // r[0] = x = sqrt(u / v)\n  S(den2, den);\n  S(den4, den2);\n  M(den6, den4, den2);\n  M(t, den6, num);\n  M(t, t, den);\n\n  pow2523(t, t);\n  M(t, t, num);\n  M(t, t, den);\n  M(t, t, den);\n  M(r[0], t, den);\n\n  S(chk, r[0]);\n  M(chk, chk, den);\n  if (neq25519(chk, num)) {\n    M(r[0], r[0], I);\n  }\n\n  S(chk, r[0]);\n  M(chk, chk, den);\n  if (neq25519(chk, num)) {\n    return -1;\n  }\n\n  if (par25519(r[0]) === (p[31]>>7)) {\n    Z(r[0], gf0, r[0]);\n  }\n\n  M(r[3], r[0], r[1]);\n  return 0;\n}\n\nfunction unpack(r, p) {\n  var t = gf(), chk = gf(), num = gf(),\n      den = gf(), den2 = gf(), den4 = gf(),\n      den6 = gf();\n\n  set25519(r[2], gf1);\n  unpack25519(r[1], p);\n\n  // num = u = y^2 - 1\n  // den = v = d * y^2 + 1\n  S(num, r[1]);\n  M(den, num, D);\n  Z(num, num, r[2]);\n  A(den, r[2], den);\n\n  // r[0] = x = sqrt(u / v)\n  S(den2, den);\n  S(den4, den2);\n  M(den6, den4, den2);\n  M(t, den6, num);\n  M(t, t, den);\n\n  pow2523(t, t);\n  M(t, t, num);\n  M(t, t, den);\n  M(t, t, den);\n  M(r[0], t, den);\n\n  S(chk, r[0]);\n  M(chk, chk, den);\n  if (neq25519(chk, num)) {\n    M(r[0], r[0], I);\n  }\n\n  S(chk, r[0]);\n  M(chk, chk, den);\n  if (neq25519(chk, num)) {\n    console.log(\"not a valid Ed25519EncodedGroupElement.\");\n    return -1;\n  }\n\n  if (par25519(r[0]) !== (p[31]>>7)) {\n    Z(r[0], gf0, r[0]);\n  }\n\n  M(r[3], r[0], r[1]);\n  return 0;\n}\nvar \n    crypto_scalarmult_BYTES = 32,\n    crypto_scalarmult_SCALARBYTES = 32,\n    crypto_sign_BYTES = 64,\n    crypto_sign_PUBLICKEYBYTES = 32,\n    crypto_sign_SECRETKEYBYTES = 64,\n    crypto_sign_SEEDBYTES = 32,\n    crypto_hash_BYTES = 64;\n\nfunction crypto_sign_open(m, sm, n, pk) {\n  var i, mlen;\n  var t = new Uint8Array(32), h = new Uint8Array(64);\n  var p = [gf(), gf(), gf(), gf()],\n      q = [gf(), gf(), gf(), gf()];\n\n  mlen = -1;\n  if (n < 64) return -1;\n\n  if (unpackneg(q, pk)) return -1;\n\n  for (i = 0; i < n; i++) m[i] = sm[i];\n  for (i = 0; i < 32; i++) m[i+32] = pk[i];\n  crypto_hash(h, m, n);\n  reduce(h);\n  scalarmult(p, q, h);\n\n  scalarbase(q, sm.subarray(32));\n  add(p, q);\n  pack(t, p);\n\n  n -= 64;\n  if (crypto_verify_32(sm, 0, t, 0)) {\n    for (i = 0; i < n; i++) m[i] = 0;\n    return -1;\n  }\n\n  for (i = 0; i < n; i++) m[i] = sm[i + 64];\n  mlen = n;\n  return mlen;\n};\n\nnacl.lowlevel = {\n  crypto_verify_32: crypto_verify_32,\n  crypto_scalarmult: crypto_scalarmult,\n  crypto_scalarmult_base: crypto_scalarmult_base,\n  crypto_sign_keypair_hash: crypto_sign_keypair_hash,\n  crypto_shared_key_hash: crypto_shared_key_hash,\n  crypto_sign_hash: crypto_sign_hash,\n\n  crypto_scalarmult_BYTES: crypto_scalarmult_BYTES,\n  crypto_scalarmult_SCALARBYTES: crypto_scalarmult_SCALARBYTES,\n  crypto_sign_BYTES: crypto_sign_BYTES,\n  crypto_sign_PUBLICKEYBYTES: crypto_sign_PUBLICKEYBYTES,\n  crypto_sign_SECRETKEYBYTES: crypto_sign_SECRETKEYBYTES,\n  crypto_sign_SEEDBYTES: crypto_sign_SEEDBYTES,\n  crypto_hash_BYTES: crypto_hash_BYTES\n};\n\n/*/////////////////////////////////////////////// High-level API ///////////////////////////////////////// */\n\nfunction checkArrayTypes() {\n  var t, i;\n  for (i = 0; i < arguments.length; i++) {\n     if ((t = Object.prototype.toString.call(arguments[i])) !== '[object Uint8Array]')\n       throw new TypeError('unexpected type ' + t + ', use Uint8Array');\n  }\n}\n\nfunction cleanup(arr) {\n  for (var i = 0; i < arr.length; i++) arr[i] = 0;\n}\n\nnacl.randomBytes = function(n) {\n  var b = new Uint8Array(n);\n  randombytes(b, n);\n  return b;\n};\n\nnacl.scalarMult = function(n, p) {\n  checkArrayTypes(n, p);\n  if (n.length !== crypto_scalarmult_SCALARBYTES) throw new Error('bad n size');\n  if (p.length !== crypto_scalarmult_BYTES) throw new Error('bad p size');\n  var q = new Uint8Array(crypto_scalarmult_BYTES);\n  crypto_scalarmult(q, n, p);\n  return q;\n};\n\nnacl.scalarMult.base = function(n) {\n  checkArrayTypes(n);\n  if (n.length !== crypto_scalarmult_SCALARBYTES) throw new Error('bad n size');\n  var q = new Uint8Array(crypto_scalarmult_BYTES);\n  crypto_scalarmult_base(q, n);\n  return q;\n};\n\nnacl.scalarMult.scalarLength = crypto_scalarmult_SCALARBYTES;\nnacl.scalarMult.groupElementLength = crypto_scalarmult_BYTES;\n\nnacl.verify = function(x, y) {\n  checkArrayTypes(x, y);\n  // Zero length arguments are considered not equal.\n  if (x.length === 0 || y.length === 0) return false;\n  if (x.length !== y.length) return false;\n  return (vn(x, 0, y, 0, x.length) === 0) ? true : false;\n};\n\nnacl.setPRNG = function(fn) {\n  randombytes = fn;\n};\n\n// For signature verification in KeyPair.js\nnacl.gf = gf;\nnacl.unpackneg = unpackneg;\nnacl.reduce = reduce;\nnacl.scalarmult = scalarmult;\nnacl.scalarbase = scalarbase;\nnacl.add = add;\nnacl.pack = pack;\n\n(function() {\n  // Initialize PRNG if environment provides CSPRNG.\n  // If not, methods calling randombytes will throw.\n  var crypto;\n  if (typeof window !== 'undefined') {\n    // Browser.\n    if (window.crypto && window.crypto.getRandomValues) {\n      crypto = window.crypto; // Standard\n    } else if (window.msCrypto && window.msCrypto.getRandomValues) {\n      crypto = window.msCrypto; // Internet Explorer 11+\n    }\n    if (crypto) {\n      nacl.setPRNG(function(x, n) {\n        var i, v = new Uint8Array(n);\n        crypto.getRandomValues(v);\n        for (i = 0; i < n; i++) x[i] = v[i];\n        cleanup(v);\n      });\n    }\n  } else if (typeof require !== 'undefined') {\n    // Node.js.\n    crypto = require('crypto');\n    if (crypto) {\n      nacl.setPRNG(function(x, n) {\n        var i, v = crypto.randomBytes(n);\n        for (i = 0; i < n; i++) x[i] = v[i];\n        cleanup(v);\n      });\n    }\n  }\n})();\n\n})(typeof module !== 'undefined' && module.exports ? module.exports : (window.nacl = window.nacl || {}));\n"]}